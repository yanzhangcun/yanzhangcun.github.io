## 2023年12月19日

科研笔记与自己的思考：

昨晚躺在床上不断的思考关于自己数据质量的问题，和自己昨天的验证，发现dataframesky输出的数据与自己根据轨迹数据计算变量的取值之间存在较大的差异，导致这些差异的原因：

第一是软件自带的轨迹降噪和过滤的处理；

第二变量计算的是否存在错误呢？我想主要原因可能是软件自己的处理过程跟自己的处理过程存在一些差异。如何能够用更为准确的表达这个过程呢？可能需要对其中的一些过程进行调整。目前的自己又想增加新的风险表征标量ACT、YAW，首先这些变量的计算公式和快速计算的方法需要有明确的理解。可以借助chatGPT来帮助自己实现代码的编写，但是整个逻辑和思路需要自己进行凝练。此外，关于变量定义方面，自己也发现之前关于信号时间变量的定义缺少信号信号相位时间的引入，这会导致自己最后讲故事的时候很难准的描述这边变量，自己需要将这个变量重新定义为所处的信号相位的阶段。

基于以上的思考，自己重新梳理代码编写流程行程以下编码流程和工作思路力求在今天之内完成此项任务。

首先：为了减少计算时间，基于现有的提取交互对，重新重原始数据中提取车辆对，来重新计算两车交互过程的指标和变量，TTC、ACT。

第一步：需要对原始的轨迹数据进行处理，从轨迹数据中间隔3帧抽取计算一个平均值作为新的轨迹数据。注意需要对轨迹数据进行处理，每个轨迹数据的需要减去最小的坐标，将其平移到xy坐标平面上。

第二步：在ttc计算的代码问价中编写关于ACT的计算代码，同时重新计算speed、accelerate、jerk、yaw，vehicle dgree。（在重新计算TTC的时候，我们需要用新的思路计算具体的值，）

第三步：重新提取交互事件链。第四步：重新匹配环境变量。

关于交互时间链的提取，这边是否考虑新的提取方法，之前仅仅依据寻找最小TTC的方式目前看来行不通，

这边考虑新的方法进行提取：第一步，计算TTC的变化斜率，交互过程中TTC的变化遵循先变小变大的过程，我们可以用TTC斜率为负数作为交互的起点时间，TTC斜率为正，且斜率大于阈值的时刻作为交互结束时刻。同时车辆之间的距离也可以综合考虑到交互过程的提取中。

这边可以

#关于变量定义部分之前自己的定义方式存在一些问题，例如，关于交互类型的定义可以借鉴交互车辆的方向夹角，不能简单的使用车辆在交叉后的转向方式。因此，关于碰撞类型我们可以借鉴Nicolas的TRC那篇文章。

建模部分自己采用因果推断和olgit模型进行分析。

第四步：研究思路的梳理：

研究贡献：（1）轨迹数据提取交互时间链的过程方法；（2）将环境变量纳入交互事件链；（3）利用因果分析的方法对微观驾驶行为的演化机理进行分析。

研究的主要方法部分：第一数据，第二 交互时间链提取；第三交互影响变量的定义；第四交互行为建模（逻辑回归模型、因果发现与推断模型）

结果分析：描述性统计分析影响变量，统计分析对结果进行对比；最后讨论结果。

## 2024年3月11日



做研究还是需要不断的去尝试和探索和不断的积累经验，就自己的研究而言，过去一年自己虽然没有把机动车与非机动车之间的交互过程的研究做出来，但是这个探索的过程让我促使我不断的思考这件事。不断的去推翻自己原有的想法进行新的探索，我知道自己的研究成果没有那些发TRC的同学瞩目，没有那些一上来就10篇文章的同学那么高亮，但我自己也是在我自己的小领域里面反复的自我进化。

比如，关于环境变量的选择，之前去尝试将环境的复杂性引入模型之中，但对于环境的感知范围阈值自己没有非常明确得去探究，但前几天当自己去查验视频的过程中觉得自己之前取的数值太大了。那么如何确定这个数值，有没有相关的研究对这个问题进行具体的探究额呢？自己能否在这方面做一点点的研究呢？我们实际开车和骑行的过程，遇到高密度的混合交通流，到底会跟几辆车进行交互呢？车辆组群的数量到底多大的时候回影响我们做驾驶决策呢？这些问题虽然很小，但是确实没有被研究过呢？另外，自己的整体研究思路是否应该进行一些调整呢？之前自己的研究定位是交互过程中的冲突风险，将完整的交互过程拆分为不同的事件，用ordinal logit 模型分析交互过程中碰撞风险的严重性与潜在影响变量之间的关系。这种研究能够讲一个完整的故事，但是当自己引入causal inference的时候这个故事反而变的不好讲了。究其原因，我觉得还是没有把故事线条想明白，对于方法的套用没有设计好，没有整理清楚自己到底想一个什么样的结果呢？自己的研究到底是服务什么样的场景？到底是主动安全管控还是驾驶辅助系统。**要是服务于主动安全管控，那么自己的研究就应该定位应该偏事故管理，变量的旋转应该宏观一些。变量的选择应该多一些信号灯，交通设计，等。** **要是服务于车辆驾驶辅助系统自己的研究就应该偏行为一些，变量的定义应该考虑更微观的视角。**



## *2024年3月12日*

就自己的研究本身而言，认为之前的逻辑线有点偏离实际，没有结合好真实的情况。查验视频之后可以总结出一些好的经验，这些视频中得出的经验能够更好的反应真实因果关系，应该是更为真实的。需要改进一下方面：

**机动车与非机动车的相位位置是影响交互过程中避让行为的一个关键因素，比如非机动车在机动车车的前方，双方是正面的冲突，和非机动车位于机动车后方位置，这种冲突就是完全不同。**

所以位置因素是决定交互过程避让行为的关键因素。也就存在“谁主动与谁进行交互”。













